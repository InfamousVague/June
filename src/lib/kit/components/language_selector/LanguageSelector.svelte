<script lang="ts">
	import Select from "$lib/kit/elements/select/Select.svelte";
	import { createEventDispatcher } from "svelte";
	import type { SelectOption } from "$lib/types/index.js";

	// [key, value] objects - Full list
	const supportedLanguagesOptions: SelectOption[] = [
		{ key: "en", value: "ğŸ‡ºğŸ‡¸ English" },
		{ key: "es", value: "ğŸ‡ªğŸ‡¸ Spanish" },
		{ key: "fr", value: "ğŸ‡«ğŸ‡· French" },
		{ key: "de", value: "ğŸ‡©ğŸ‡ª German" },
		{ key: "ja", value: "ğŸ‡¯ğŸ‡µ Japanese" },
		{ key: "zh", value: "ğŸ‡¨ğŸ‡³ Chinese" },
		{ key: "ru", value: "ğŸ‡·ğŸ‡º Russian" },
		{ key: "ar", value: "ğŸ‡¸ğŸ‡¦ Arabic" },
		{ key: "pt", value: "ğŸ‡µğŸ‡¹ Portuguese" },
		{ key: "it", value: "ğŸ‡®ğŸ‡¹ Italian" },
		{ key: "ko", value: "ğŸ‡°ğŸ‡· Korean" }
	];

	export let selectedLanguage: string = supportedLanguagesOptions[0].key; // Default: "en"
	const dispatch = createEventDispatcher();

	function handleChange(event: CustomEvent<string>) {
		selectedLanguage = event.detail.trim(); // event.detail is the selected `key`
		dispatch("languageSelected", { language: selectedLanguage }); // send language code like "en"
	}
</script>

<Select
	options={supportedLanguagesOptions}
	on:change={handleChange}
/>
